%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% chapter04 - Consistency Models
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%
% >>>>>>>>>>>>>>> PLEASE NOTE <<<<<<<<<<<<<<<
%
% This file is not stand-alone compileable as it is, to make it compileable while writing uncomment the preamble below.
% In this case, you also have to uncomment the begin/end document statements.
% You can outcomment the preamble and the begin/end document statements again or erase them when handing in your contribution.
%
% If you use BibTex for your bibliography, please use \putbib[bibliography] to print your reference (see end of this file).
%
% you can use paths relative to your chapter dir, e.g. \figure{assets/fig1}.
%
% >>>>>>>>>>>>>>>>>>>><<<<<<<<<<<<<<<<<<<<<<<

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% you can uncomment the following preamble during development to make this file compileable.
%% Note that you need the svmult.cs file inside your chapter root dir to make this work.
%% Also note that if you need additional packages etc., you can add them here, but please
%% mark them somehow so the editor of this book knows you need them in the final book.
%% When you hand in your contribution, please uncomment or remove the preamble again.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% start of preamble
\documentclass[
graybox,
envcountchap,
%natbib
]{svmult}
%
\usepackage[utf8]{inputenc}
%%\usepackage{type1cm}        % activate if the above 3 fonts are 
%% not available on your system
%
%\usepackage{makeidx}         % allows index generation
%\usepackage{graphicx}        % standard LaTeX graphics tool
%% when including figure files
%\usepackage{multicol}        % used for the two-column index
%\usepackage[bottom]{footmisc}% places footnotes at page bottom
%
%\usepackage{newtxtext}       % 
%\usepackage{newtxmath}       % selects Times Roman as basic font
%
%% \usepackage{natbib}
%\usepackage{footmisc}
%
%%% Additional packages added. Add necessary packages here.
%%\usepackage[english]{babel}
%\usepackage{siunitx}
%\usepackage{amssymb}
%\usepackage{pifont}
%\usepackage{xcolor}
%\usepackage{tabularx}
\usepackage{multirow}
%\usepackage{listings}
%\usepackage{booktabs}
%\usepackage{hyperref}
%\usepackage{url}
%\usepackage{mathtools}
%\usepackage{lipsum}
%\usepackage{import}
\usepackage{bibunits}
%\usepackage{acronym}
%\usepackage[nottoc]{tocbibind}
%\usepackage{numberpt}
%
%\newcommand*{\CHAPTERSROOT}{../.}	% root path for chapters.
%\newcommand*{\chapterprefix}{04}	% your chapter number.
%
\makeindex % used for the subject index
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% end of preamble

%% uncomment the \begin{document} statement to make this file stand-alone compileable.
\begin{document}

\begin{bibunit}
	
	\title*{Consistency Models}
	\author{Carlos Baquero and Carla Ferreira}
	
	\institute{
		Carlos Baquero \at University of Minho, Portugal, \email{cbm@di.uminho.pt}
		\and Carla Ferreira \at NOVA University Lisbon, Portugal, \email{carla.ferreira@fct.unl.pt}
		\and Sebastian Burckhardt \at Microsoft Research, USA, \email{sburckha@microsoft.com}
		\and D\'{e}fago Xavier \at Tokyo Institute of Technology, Japan, \email{defago@c.titech.ac.jp}
		\and Philipp Haller \at KTH Royal Institute of Technology, Sweden, \email{phaller@kth.se}
		\and Elisa Gonzalez Boix \at Vrije Universiteit Brussel, Belgium, \email{egonzale@vub.ac.be}
	}
	\maketitle
	
	\abstract{Please place your abstract here.}

        \section{Introduction (Carlos)}

        The following is the result of a focus group on consistency models. From the title the reader could expect a comprehensive survey of the subject. Instead, our goal is less ambitious and only to provide a vision of some of the dimensions that characterize this area and then offer the reader some open research directions. For a deeper coverage of the field we direct the reader to surveys on \emph{non-transactional consistency models} \cite{Viotti:2016:CND:2911992.2926965}, ...  %TODO: to complete with other reference surveys by sub-area: database consistency, memory consistency models, distributed consensus and total order

        (a couple more paragraphs on the focus of our discussion)


        \section{Consistency at different scales (Carlos)}\label{sec:1}

        %Relevant notes from meeting:
        % - Issue in both multi-core and distributed settings
        % -- Relation between two areas
        % - In distributed systems, strong consistency has problem with latency:
        % -- What are good timeouts?
        % -- Not much control over rate of commits
        % - Eventual consistency:
        % -- Asynchronicity an issue
        % - Shared-memory systems: sync operation to establish consistent view
        % - Essential differences between multi-core and distributed setting
        % -- Partial failure
        % -- Unbounded asynchronicity

%\begin{tabular}{@{}lll@{}}
\begin{table}
\begin{center}
\begin{tabular}{l|l|l}
%  \toprule
%  &&&& \multicolumn2c{query accesses} \\ \cmidrule(l){5-6}
  & Weak & Strong\\
  \hline
%  \midrule
  Multicore & Thread local & Locks \& Atomics\\
  \hline
  Distributed & CRDTs & Consensus\\
  \hline
%  \bottomrule
\end{tabular}
\end{center}
\end{table}


        (say something about scale in terms of number of nodes and physical distance, the impacts of asynchrony and address the topics in comment. Contrast asynchronous geo-distributed systems with shared memory multi-core settings)

        \section{The two sides of the CAP frontier (Carla)}\label{sec:2}

        %Relevant notes from meeting:
        % - Escrow is an intermediate point between weak consistency and strong consistency
        % -- Escrow: replicas can coordinate in pairs to re-fill their credits
        % -- Consensus round only needed for strong consistency
        % - Best you can do under partition tolerance: causal consistency

        (refer the several papers that establish the most that can be done under partition tolerance. One side has causal consistency, the other runs coordination protocols. Note that escrow is a type of a-priory coordination, pair to pair, that helps with global invariants but is only live to some extent under partitions)

        \section{Walks around the frontier (Carla)}\label{sec:2}

        %Relevant notes from meeting:
        % - Semantic causal consistency
        % -- Relax consistency for independent data
        % - Atomicity
        % -- Transactions/bundles of operations
        % -- Simple to do under partition tolerance

        (talk about techniques that go around the CAP division. Using properties of data, like sharding into independent sets of objects for extra concurrency. Talk about grouping operations together for all or nothing execution.)

        \section{Research Directions}\label{sec:2}

        (create subsections that pick and expand some of the open topics in the notes)

        \subsection{Causal consistency at scale (TBA)}

        \subsection{\ldots (TBA)}

        \subsection{\ldots (TBA)}

        %Relevant notes from meeting:
        % - How to provide causal consistency in a scalable way
        % - How to program with different consistency levels?
        % -- Suresh Jagannathan et al. define consistency in terms of operation order
        % --- can be hard to reason about
        % - Providing both weak and strong operations. How to describe in the language
        % - Debugging of distributed applications built on replicated data types
        % -- Consistency bugs
        % - Bounded staleness (probabilistic bounds)
        % - Composition of replicated data types
        % -- How to ensure consistency?
        % - Fragility at the edge to the clients
        % -- Raft leader receives request, but connection to client breaks
        % -- Client cannot be part of replicas
        % - Security and privacy
        % -- Encryption, (semi-)homomorphic encryption
        % --- Certain operations performed on encrypted data
        % - Dynamic Membership
        % - Partial replication

        \section{Conclusions (only to assign in the end)}\label{sec:2}

	
	%% content
	%\section{Content}\label{sec:1}
	
	%Please place your content here. See the sample template chapter for further reference on how you could style your content here.
	
	%% content
	
	%\section*{Appendix}\label{appendix}
	
	%Please place your appendix content here, if applicable.

	
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	%% For your bibliography, you should use a bibtex .bib file and include it here.
	%% Note that the final reference lists styling might differ because it'll be styled in unified book layout.
	
	% \biblstarthook{
	%	text inserted here will be printed before the actual list of references, but only if there is at least one reference to %display. Delete this section if you don't need it.
	%}
	
	% \nocite{*}		%% uncomment if uncited references should be listed in the bibliography.
	
	%% uncomment and state path to your .bib to use a bibtex file as your bibliography.
	%% NOTE: relative paths don't work in \putbib => During development, you might delete the "\CHAPTERSROOT/chapter\chapterprefix/" part to refer to your bib file. When you're done, please make this path absolute by adding the prefix again.
	%%
	% \putbib[\CHAPTERSROOT/chapter\chapterprefix/bibliography] %
	
\end{bibunit}
	
%% uncomment the \end{document} statement to make this file stand-alone compileable.
\end{document}
